import './polyfills.server.mjs';
import{a as D}from"./chunk-WLGMC3C6.mjs";import{a as W,b as j}from"./chunk-QZDF7IVT.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-SVCHEVXD.mjs";import{H as E}from"./chunk-O7V7OWRG.mjs";import{$ as C,Fb as s,Gb as p,Hb as T,La as w,Mb as k,Nb as y,Ob as I,Pa as a,X as m,db as b,fb as _,ja as u,jb as F,ka as v,kb as f,lb as h,mb as x,nb as c,ob as l,pb as d,sb as L,wb as g,xb as S}from"./chunk-ONHE2IK4.mjs";import"./chunk-VVCT4QZE.mjs";var V=i=>["/details",i],A=()=>[1,2,3,4,5];function $(i,n){i&1&&d(0,"i",11)}function B(i,n){i&1&&d(0,"i",12)}function M(i,n){if(i&1){let t=L();c(0,"div",2)(1,"div",3)(2,"i",4),g("click",function(){let e=u(t).$implicit,o=S();return v(o.removeformwishlist(e._id))}),l(),c(3,"div",5),d(4,"img",6),c(5,"h6"),s(6),l(),c(7,"h6",7),s(8),l(),c(9,"div",8)(10,"p",9),s(11),l(),c(12,"div",10),h(13,$,1,0,"i",11,f),b(15,B,1,0,"i",12),c(16,"span"),s(17),l()()()(),c(18,"button",13),g("click",function(){let e=u(t).$implicit,o=S();return v(o.addtocart(e._id))}),s(19," add to cart "),l()()()}if(i&2){let t=n.$implicit;a(3),_("routerLink",I(7,V,t.id)),a(),_("src",t==null?null:t.imageCover,w),a(2),p(t.description.split(" ",1).join(" ")),a(2),p(t==null?null:t.title.split(" ",2).join(" ")),a(3),T("",t==null?null:t.price," EGY"),a(2),x(y(9,A).slice(0,t==null?null:t.ratingsAverage)),a(2),F(15,(t==null?null:t.ratingsAverage)%1!==0?15:-1),a(2),p(t==null?null:t.ratingsAverage)}}var Y=(()=>{let n=class n{constructor(){this._WishListService=m(D),this._CartService=m(W),this._ToastrService=m(j)}ngOnInit(){this._WishListService.getWishList().subscribe({next:r=>{console.log(r),this.productData=r.data},error:r=>{console.log(r)}})}addtocart(r){this._CartService.addProductToCart(r).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message),this._CartService.cartNumber.next(e.numOfCartItems)},error:e=>{console.log(e)}})}removeformwishlist(r){this._WishListService.removeProduct(r).subscribe({next:e=>{this._WishListService.wishListItems=e.data,this._ToastrService.error("removed  form your wishList"),console.log("removed form wish list",e),this._WishListService.getWishList().subscribe({next:o=>{console.log(o),this.productData=o.data},error:o=>{console.log(o)}})},error:e=>{console.log(e)}})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=C({type:n,selectors:[["app-favirote"]],standalone:!0,features:[k],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","p-2"],[1,"product","p-1","d-flex","flex-wrap","flex-column","justify-content-between"],[1,"fa-solid","fa-trash-can","text-danger",3,"click"],[3,"routerLink"],["alt","",1,"w-100",3,"src"],[1,"my-2"],[1,"d-flex","justify-content-between"],[1,"m-0"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-star","rating-color"],[1,"fa-solid","fa-star-half-stroke","rating-color","bg"],[1,"btn-main","homebtnpro","w-100",3,"click"]],template:function(e,o){e&1&&(c(0,"section",0)(1,"div",1),h(2,M,20,10,"div",2,f),l()()),e&2&&(a(2),x(o.productData))},dependencies:[E]});let i=n;return i})();export{Y as FaviroteComponent};
