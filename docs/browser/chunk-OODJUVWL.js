import{a as D}from"./chunk-BHAF2LFC.js";import{a as W,m as j}from"./chunk-YNWN4FR3.js";import{v as E}from"./chunk-5FJKB7TP.js";import{$ as m,Gb as s,Hb as p,Ib as T,Ma as w,Nb as k,Ob as y,Pb as I,Qa as a,ca as C,eb as b,gb as _,kb as F,lb as f,ma as u,mb as h,na as v,nb as x,ob as c,pb as l,qb as d,tb as L,xb as g,yb as S}from"./chunk-PTJC2S3F.js";var V=i=>["/details",i],A=()=>[1,2,3,4,5];function $(i,n){i&1&&d(0,"i",11)}function B(i,n){i&1&&d(0,"i",12)}function M(i,n){if(i&1){let t=L();c(0,"div",2)(1,"div",3)(2,"i",4),g("click",function(){let e=u(t).$implicit,o=S();return v(o.removeformwishlist(e._id))}),l(),c(3,"div",5),d(4,"img",6),c(5,"h6"),s(6),l(),c(7,"h6",7),s(8),l(),c(9,"div",8)(10,"p",9),s(11),l(),c(12,"div",10),h(13,$,1,0,"i",11,f),b(15,B,1,0,"i",12),c(16,"span"),s(17),l()()()(),c(18,"button",13),g("click",function(){let e=u(t).$implicit,o=S();return v(o.addtocart(e._id))}),s(19," add to cart "),l()()()}if(i&2){let t=n.$implicit;a(3),_("routerLink",I(7,V,t.id)),a(),_("src",t==null?null:t.imageCover,w),a(2),p(t.description.split(" ",1).join(" ")),a(2),p(t==null?null:t.title.split(" ",2).join(" ")),a(3),T("",t==null?null:t.price," EGY"),a(2),x(y(9,A).slice(0,t==null?null:t.ratingsAverage)),a(2),F(15,(t==null?null:t.ratingsAverage)%1!==0?15:-1),a(2),p(t==null?null:t.ratingsAverage)}}var Y=(()=>{let n=class n{constructor(){this._WishListService=m(D),this._CartService=m(W),this._ToastrService=m(j)}ngOnInit(){this._WishListService.getWishList().subscribe({next:r=>{console.log(r),this.productData=r.data},error:r=>{console.log(r)}})}addtocart(r){this._CartService.addProductToCart(r).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message),this._CartService.cartNumber.next(e.numOfCartItems)},error:e=>{console.log(e)}})}removeformwishlist(r){this._WishListService.removeProduct(r).subscribe({next:e=>{this._WishListService.wishListItems=e.data,this._ToastrService.error("removed  form your wishList"),console.log("removed form wish list",e),this._WishListService.getWishList().subscribe({next:o=>{console.log(o),this.productData=o.data},error:o=>{console.log(o)}})},error:e=>{console.log(e)}})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=C({type:n,selectors:[["app-favirote"]],standalone:!0,features:[k],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","p-2"],[1,"product","p-1","d-flex","flex-wrap","flex-column","justify-content-between"],[1,"fa-solid","fa-trash-can","text-danger",3,"click"],[3,"routerLink"],["alt","",1,"w-100",3,"src"],[1,"my-2"],[1,"d-flex","justify-content-between"],[1,"m-0"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-star","rating-color"],[1,"fa-solid","fa-star-half-stroke","rating-color","bg"],[1,"btn-main","homebtnpro","w-100",3,"click"]],template:function(e,o){e&1&&(c(0,"section",0)(1,"div",1),h(2,M,20,10,"div",2,f),l()()),e&2&&(a(2),x(o.productData))},dependencies:[E]});let i=n;return i})();export{Y as FaviroteComponent};
